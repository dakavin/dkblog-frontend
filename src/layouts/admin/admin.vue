<script setup>
//å¼•å…¥å¸ƒå±€ç»„ä»¶
import AdminFooter from "@/layouts/admin/components/AdminFooter.vue";
import AdminHeader from "@/layouts/admin/components/AdminHeader.vue";
import AdminMenu from "@/layouts/admin/components/AdminMenu.vue";
import AdminTagList from "@/layouts/admin/components/AdminTagList.vue";
import {useMenuStore} from "@/stores/menu.js";
import {showMessage} from "@/composables/util.js";

// åŒæ­¥èœå•storeä¸­menuçš„å®½åº¦
const menuStore = useMenuStore()

// æ¬¢è¿è¯­
showMessage('æ¬¢è¿æ¥åˆ°Adminç®¡ç†é¡µé¢ï¼ğŸŒ¸æ’’èŠ±ğŸŒ¸')
showMessage('ğŸ˜€DK Blog ç¥ä½ æœ‰ç¾å¥½çš„å¿ƒæƒ…ï¼ğŸ˜€')
</script>

<template>
    <!-- å¤–å±‚å®¹å™¨ -->
    <el-container>
        
        <!-- å·¦è¾¹ä¾§è¾¹æ  -->
        <el-aside :width="menuStore.menuWidth" class="transition-all">
            <AdminMenu/>
        </el-aside>
        
        <!-- å³è¾¹åŒºåŸŸä¸»è¦å†…å®¹ -->
        <el-container>
            <!-- å³è¾¹é¡¶æ  -->
            <el-header>
                <AdminHeader/>
            </el-header>
            
            <!-- å³è¾¹å®¹å™¨ -->
            <el-main>
                <!-- æ ‡ç­¾å¯¼èˆªæ  -->
                <AdminTagList/>
                
                <!-- ä¸»å†…å®¹ï¼ˆæ ¹æ®è·¯ç”±åŠ¨æ€å±•ç¤ºä¸åŒé¡µé¢ï¼‰ -->
                <router-view v-slot="{ Component }">
                    <!-- ç”¨äºä¼˜åŒ–è·¯ç”±è·³è½¬æ—¶ï¼Œç»„ä»¶çš„åŠ è½½cssï¼Œå³ç»„ä»¶çš„è¿‡æ¸¡æ•ˆæœ -->
                    <Transition name="fade">
                        <!-- ç”¨äºç¼“å­˜vueç»„ä»¶ï¼Œä¸ç”¨æ¯æ¬¡åŠ è½½ç»„ä»¶çš„æ—¶å€™ï¼Œéƒ½è¦å’Œåç«¯è¯·æ±‚æ•°æ® -->
                        <!-- max æŒ‡å®šæœ€å¤šç¼“å­˜ 10 ä¸ªç»„ä»¶ -->
                        <KeepAlive :max="10">
                            <component :is="Component"></component>
                        </KeepAlive>
                    </Transition>
                </router-view>
            </el-main>
            
            <!-- å³è¾¹é¡µè„š -->
            <el-footer>
                <AdminFooter/>
            </el-footer>
        </el-container>
    
    </el-container>
</template>

<style scoped>
.el-header {
    padding: 0 !important;
}

.el-footer {
    padding: 0 !important;
}

/* å†…å®¹åŒºåŸŸè¿‡æ¸¡åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºæ•ˆæœ */
/* åˆšå¼€å§‹è¿›å…¥æ—¶ */
.fade-enter-from {
    /* é€æ˜åº¦ */
    opacity: 0;
}

/* åˆšå¼€å§‹ç»“æŸ */
.fade-enter-to {
    opacity: 1;
}

/* åˆšå¼€å§‹ç¦»å¼€ */
.fade-leave-from {
    opacity: 1;
}

/* ç¦»å¼€å·²ç»“æŸ */
.fade-leave-to {
    opacity: 0;
}

/* ç¦»å¼€è¿›è¡Œä¸­ */
.fade-leave-active {
    transition: all 0.3s;
}

/* è¿›å…¥è¿›è¡Œä¸­ */
.fade-enter-active {
    transition: all 0.3s;
    transition-delay: 0.3s;
}
</style>